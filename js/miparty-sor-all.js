const courseData = {
  title: "SoR è¬›åº§å½±ç‰‡å›çœ‹æ¸…å–®ï¼ˆæ›´æ–°è‡³Ep26ï¼‰",
  weeks: [
    {
      week: 1,
      date:"2024/02/18ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬01å ‚ SoR æ¦‚è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:0,
      data: {
        url:" https://reurl.cc/A4pVkd "
      }
    },
    {
      week: 2,
      date:"2024/02/25ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬02å ‚ Comprehension å…¥é–€æ¦‚è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:5,
      data: {
        url:"https://www.youtube.com/live/6YXP6LCPay4?si=1TxGv_sPvDeHam8H",
        feedback:"https://forms.gle/nSRLFeG68zT7FqCJA"
      }
    },
    {
      week: 3,
      date:"2024/03/03ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬03å ‚ Vocabulary & Grammar å…¥é–€æ¦‚è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:4,
      data: {
        url:"https://www.youtube.com/live/7hNvFNADEDQ?si=7CSaIUOBy6B75zil",
        feedback:"https://forms.gle/diSejSBNidBXzRaU9"
      }
    },
    {
      week: 4,
      date:"2024/03/10ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬04å ‚ Fluency å…¥é–€æ¦‚è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:3,
      data: {
        url:"https://pse.is/5p58xr",
        feedback:"https://forms.gle/qNU6pinqAF9sNNKJA"
      }
    },
    {
      week: 5,
      date:"2024/03/17ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬05å ‚ Phonics å…¥é–€æ¦‚è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:2,
      data: {
        url:"https://pse.is/5pygkq",
        feedback:"https://forms.gle/Pg5tQUMstQfc3etS8"
      }
    },
    {
      week: 6,
      date:"2024/03/24ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬06å ‚ PAå…¥é–€æ¦‚è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:1,
      data: {
        url:"https://www.youtube.com/live/XnYP4AYXbSs?si=NFjOeYS9sOahqpu-",
        feedback:"https://forms.gle/3pfUrN9c1U2i6Ga56"
      }
    },
    {
      week: 7,
      date:" 2024/03/31ï¼ˆå…è²»è©¦è½ï¼‰",
      title: "ç¬¬ä¸€æ¬¡ SoR äº”éšæ®µè¤‡ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:0,
      data: {
        url:"https://www.youtube.com/live/4OGMSGvTZfY?si=i31sEmPnPrAUYi6P",
        feedback:"https://forms.gle/nbEDC9nRPTTX1XT89"
      }
    },
    {
      week: 8,
      date:"2024/04/14",
      title: "ç¬¬08å ‚ SoR ç¬¬äº”éšæ®µ Comprehension æ—¥å¸¸è¼•é¬†çš„ç·´ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:5,
      data: {
        url:"https://www.youtube.com/live/iMfJVCWczOg?si=jdWFu-HLHsvt5WNo",
        feedback:"https://forms.gle/oirCw4hHGbgNGLEP9",
        homework:"https://forms.gle/yRzWyiQ96vcfVdU79"
      }
    },
    {
      week: 9,
      date:"2024/04/28",
      title: "ç¬¬09å ‚ SoR ç¬¬å››éšæ®µ Vocabulary & Grammar æ—¥å¸¸è¼•é¬†çš„ç·´ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:4,
      data: {
        url:"https://youtube.com/live/qa5-kU7-knA",
        feedback:"https://forms.gle/PyPwipxcfaRQCjfV6"
      }
    },
    {
      week: 10,
      date:" 2024/5/5",
      title: "ç¬¬10å ‚ Fluency æµæš¢æº–ç¢ºï¼šæ—¥å¸¸çš„è¼•é¬†ç·´ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:3,
      data: {
        url:"https://youtube.com/live/VAwBzao4-Ag?feature=share",
        feedback:"https://forms.gle/SuUD3pKKZpWWj4Tu5"
      }
    },
    {
      week: 11,
      date:"2024/5/19",
      title: "ç¬¬11å ‚ Phonics æ—¥å¸¸çš„è¼•é¬†ç·´ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:2,
      data: {
        url:"https://youtube.com/live/fHSossk89io",
        feedback:"https://forms.gle/nczjs5aeacWbDFoW6"
      }
    },
    {
      week: 12,
      date:"2024/6/16",
      title: "ç¬¬12å ‚ PA æ—¥å¸¸çš„è¼•é¬†ç·´ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:1,
      data: {
        url:"https://youtube.com/live/JIAbzU7gDRs",
        feedback:"https://forms.gle/i3W4dnD9aDWKLrRP9"
      }
    },
    {
      week: 13,
      date:"2024/6/23",
      title: "ç¬¬13å ‚ ç¬¬2æ¬¡ SoR äº”éšæ®µè¤‡ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:0,
      data: {
        url:"https://youtube.com/live/uG72ljCRUkA",
        feedback:"https://forms.gle/NSbyUmCfy63QdtPn8"
      }
    },
    {
      week: 14,
      date:"2024/6/30",
      title: "ç¬¬14å ‚ Comprehension é€²éšç†è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:5,
      data: {
        url:"https://youtube.com/live/hOxEhqeRecs"
      }
    },
    {
      week: 15,
      date:"2024/7/7",
      title: "ç¬¬15å ‚ Vocabulary é€²éšç†è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:4,
      data: {
        url:"https://youtube.com/live/w4D6V3-grA0"
      }
    },
    {
      week: 16,
      date:"2024/7/14",
      title: "ç¬¬16å ‚ Fluency é€²éšç†è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:3,
      data: {
        url:"https://youtube.com/live/IiwBpmhv8wI"
      }
    },
    {
      week: 16.5,
      date:"2024/7/21",
      title: "ç¬¬16.5å ‚ Phonics æ•™æ¡ˆåˆ†äº«ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:2,
      data: {
        url:"https://youtube.com/live/QSysJD6iJSk",
        other: [
          {
            title:"å¤§è’¨å§å§è¬›åº§PTT",
            url:"https://drive.google.com/file/d/1I_2eupmxuqioY4ccS_O-sQ2Z_fwyC274/view?usp=sharing"
          },
          {
            title:"ç”¨æ²’é“ç†çš„å­—æ¯å­¸ phonicsï¼ˆletter word phonicsï¼‰",
            url:"https://youtu.be/CPwzWOzMLqQ"
          },
          {
            title:"ç”¨æ²’é“ç†çš„å¸¸ç”¨å­—å­¸ phonicsï¼ˆsight word phonicsï¼‰",
            url:"https://youtu.be/JIXwzDFQl3E?si=GRmJl9z1t03CLSwn"
          },
          {
            title:"ç”¨æ²’ä¾‹å¤–çš„å‡å­—å­¸ phonicsï¼ˆnon-sense word phonicsï¼‰ ",
            url:"https://youtu.be/Q8wpQwLRKAw?si=XfkvkgOibHC2JE1I"
          },
          {
            title:"ç”¨æœ‰ä¾‹å¤–çš„å–®å­—å­¸ phonicsï¼ˆè•­åšå£« SoR æ‹¼è®€å­—å…¸çš„ phonicsï¼‰",
            url:"https://youtu.be/g34FUOyrBUw?si=OkTPuXqi9cVNj0xc"
          },
          {
            title:"ç”¨ç«¥è¬ ï¼ˆéŸ»æ–‡ï¼‰æ‹†å­—å­¸ phonics",
            url:"https://youtu.be/R8OKYOlwzsY?si=F-sY6Cw6R-evh7tf"
          },
          {
            title:"ç”¨ç¹ªæœ¬ï¼ˆæ•£æ–‡ï¼‰æ‹†å­—å­¸ phonics",
            url:"https://youtu.be/cNIMQulBGyY?si=RAQab_Gj07PQYHk3"
          }
        ]
      }
    },
    {
      week: 17,
      date:"2024/7/28",
      title: "ç¬¬17å ‚ Phonics é€²éšç†è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:2,
      data: {
        url:"https://www.youtube.com/live/QradMZRTDOo?si=mMqbxZoJ4Bj8qwRu"
      }
    },
    {
      week: 18,
      date:"2024/8/4",
      title: "ç¬¬18å ‚ PA é€²éšç†è«–ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:1,
      data: {
        url:"https://youtube.com/live/s_9ulR9oxA8?feature=share"
      }
    },
    {
      week: 19,
      date:"2024/8/11",
      title: "ç¬¬19å ‚ SoR ç¬¬ä¸‰æ¬¡äº”éšæ®µè¤‡ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:0,
      data: {
        url:"https://youtube.com/live/ZSTTzaj3c4Y"
      }
    },
    {
      week: 20,
      date:"2024/8/18",
      title: "ç¬¬20å ‚ Comprehension å°è€ƒè©¦å’Œæª¢å®šçš„å¹«åŠ©ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:5,
      data: {
        url:"https://youtube.com/live/jQJqdRXteWk?feature=share"
      }
    },
    {
      week: 21,
      date:"2024/9/1",
      title: "ç¬¬21å ‚ Vocabulary å°è€ƒè©¦å’Œæª¢å®šçš„å¹«åŠ©ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:4,
      data: {
        url:"https://youtube.com/live/nUFYEVJ7tgE?feature=share"
      }
    },
    {
      week: 22,
      date:"2024/9/8",
      title: "ç¬¬22å ‚ Fluency å°è€ƒè©¦æª¢å®šçš„å¹«åŠ© ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:3,
      data: {
        url:"https://youtube.com/live/3Al-U53ti1o"
      }
    },
    {
      week: 23,
      date:"2024/9/15",
      title: "ç¬¬23å ‚ Phonics å°è€ƒè©¦æª¢å®šçš„å¹«åŠ© ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:2,
      data: {
        url:"https://youtu.be/XRDwAyP0cB8"
      }
    },
    {
      week: 24,
      date:"2024/9/22",
      title: "ç¬¬24å ‚ PA å°è€ƒè©¦æª¢å®šçš„å¹«åŠ©ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      level:1,
      data: {
        url:"https://youtube.com/live/xaiYSCAOKH4?feature=share"
      }
    },
    {
      week: 25,
      date:"2024/10/6ï¼ˆæ­¡è¿åˆ†äº«ï¼‰",
      title: "ç¬¬25å ‚ å¾å­¸æ¸¬è‹±æ–‡ä½œæ–‡ï¼Œé‡æ¸… SoR è…¦ç§‘å­¸çš„äº”éšæ®µå­¸ç¿’ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      desc:"é‚€è«‹å¤§å®¶å°‡å½±ç‰‡åˆ†äº«çµ¦èº«é‚Šé«˜äºŒæ£„è‹±ã€é«˜ä¸‰æ£„è‹±ã€åœ‹äºŒæ£„è‹±â€¦è³‡æ·±æ£„è‹±",
      level:0,
      data: {
        url:"https://www.youtube.com/live/63cTPeK1D0Y?si=qKc5voM_ZwM0AkCR",
      }
    },
    {
      week: 26,
      date:"2024/10/13",
      title: "ç¬¬26å ‚ SoR ç¬¬äº”éš Comprehension(é«˜éšç†è«–)ï½œSoR ç§‘æ™®ç³»åˆ—è¬›åº§",
      desc:"å¤§éƒ¨åˆ†å­¸è‹±æ–‡ï¼Œå°±æ˜¯åƒç‚’é£¯åªåƒè”¥èŠ±çš„äºº?",
      level:5,
      data: {
        url:"https://www.youtube.com/live/VA6lJukcglI?si=7zgekHx9nPZaXhqH"
      }
    }
  ]
};

function renderDashboard() {
  const courseTitle = document.getElementById('courseTitle');  
  courseTitle.textContent = courseData.title;

  const weeksGrid = document.getElementById('weeksGrid');
  courseData.weeks.forEach(week => {
    weeksGrid.appendChild(createLevelCard(week));
  });


}

function createLevelCard(weekData) {
  
  const card = document.createElement('div');
  card.className = 'week-card';
  let content = `
        <div class="week-header">ç¬¬${weekData.week}é€±ï¼š${weekData.date}</div>
        <div class="week-content level${weekData.level}">${weekData.title}`;
        if(weekData.desc != null) {
          content += `<br><em class="desc">${weekData.desc}</em>`;
        }
        content += `</div>`;
        content += `<div class="week-data">`;
        for (const [key, value] of Object.entries(weekData.data)) {
          if(key == 'url') {
            content += `<li>å½±ç‰‡ğŸ”—ï¼š<a href="${value}" target="_blank">${value}</a></li>`;
          } else if(key == 'feedback') {
            content += `<li>å•å·ğŸ–Šï¸ï¼š<a href="${value}" target="_blank">${value}</a></li>`;
          } else if(key == 'homework') {
            content += `<li>ä½œæ¥­ ğŸ“‘ï¼š<a href="${value}" target="_blank">${value}</a></li>`;
          } else if(key == 'message') {
            content += `<span>${value}</li>`;
          }else if(key == 'other') {
            console.log(value)
            for (const [otherKey, otherValue] of Object.entries(value)) {
              content += `<li>è£œå……æ•™æï¼š<a href="${otherValue.url}" target="_blank">${otherValue.title}</a></li>`;
            }
            
          }
        }   
  content += `</div>`;

  

  card.innerHTML = content;
  return card;
}


function searchItems() {
  // å–å¾—è¼¸å…¥æ¡†ä¸­çš„å€¼
  const input = document.getElementById('search-input');
  const filter = input.value.toLowerCase();
  
  // å–å¾—æ¸…å–®ä¸­çš„æ‰€æœ‰é …ç›®
  const weekCards = document.querySelectorAll('.week-card');

  // å¾ªç’°æª¢æŸ¥æ¯å€‹é …ç›®æ˜¯å¦ç¬¦åˆé—œéµå­—
  weekCards.forEach(card => {
    const header = card.querySelector('.week-header');
    const content = card.querySelector('.week-content');
    
    const headerText = header.textContent || header.innerText;
    const contentText = content.textContent || content.innerText;

    const combinedText = (headerText + ' ' + contentText).toLowerCase();

    if (combinedText.includes(filter.toLowerCase())) {
        card.classList.remove('hide');
    } else {
        card.classList.add('hide');
    }
      
  });
}

renderDashboard();

